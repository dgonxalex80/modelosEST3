---
title: <span style="color:#034a94"> **Modelo Lineal General - Logit binomial**</span>
author: "Modelos Estadísticos para la toma de decisiones"
output: html_document
css: style.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(comment = NA, warning = FALSE, message = FALSE)
# colores
c1="#FF7F00"
c2="#=EB0C6"
c3="#034A94"
c4="#686868"
color2=c(c1,c2)
library(memisc)
library(MASS)
library(lattice)
library(stats)
library(tidyverse)

# install.packages("learnr")          # solo una vez
# install.packages("devtools")     # solo una vez
# devtools::install_github("dgonxalex80/paqueteMOD", force = TRUE) #descarga paquete nivelatorioEST
library(paqueteMOD)
data("eleccion")
```

</br></br>

```{r, echo=FALSE, out.width="100%", fig.align = "center"}
# knitr::include_graphics("img/puntos1.png")
```


## <span style="color:#034A94">**Introducción**</span>

<br/>

La regresión logística tiene la misma estructura presentada en el modelo de regresión lineal múltiple, solo que la variable dependiente es no numérica y corresponde a una variable cualitativa con dos valores (bivariada). En este caso el modelo se denomina Logit binomial.

<br/>

Este modelo está relacionado con predicción y explicación de las decisiones de los consumidores, la clasificación de los clientes de un banco y presenta como función de ajuste la **función logit** que corresponde a una función en forma de s, en lugar de una linea recta como lo hace la regresión lineal simple.

<br/>

El objetivo de la **regresiòn logística** es la de predecir la probabilidad de que una variable binaria (dicotómica) tome los valores posibles en la que esta está definida ($R_Y= \{0,1 \}$, mediante la combinación lineal de una o varias variables independientes cuantitativas o cualitativas. La regresiòn logistica hace parte de los modelos lineales generalizados en donde se usa una función de enlace llamada logit.

</br>

<div class="content-box-blue">
$$Y = \beta_{0} + \beta_{1}X_{1} + \varepsilon$$
</div>

</br>

## <span style="color:#034a94">**Supuestos y requisitos**</span>

</br>

El supuesto principal está relacionado con la ausencia de multicolinealidad o en caso de existir  que sea muy baja, pues de no ser así se puede afectar el resultado de las estimaciones, además de aumentar artificialmente los errores de los estimadores de los coeficientes

Tambien se supone que la variable dependiente es una variable con distribución Bernoulli o binomial con $n=1$. Teniendo el valor de uno cuando se obtiene éxito y cero cuando la variable representa fracaso.



</br></br>

### <span style="color:#FF7F00">**Ejemplo**</span> 

</br>

El siguiente problema es tomado del documento realizado por [Joaquín Amat Rodrigo](https://rpubs.com/Joaquin_ARhttps://web.whatsapp.com//229736) publicado en RPlus con el fin de presentar el modelo logit simple

</br>

Se pretende ilustrar los componentes del modelo lineal general para el caso particular del modelo de logit simple, enmarcado dentro de los modelos llamados **modelos de probabilidad** y determinar la probabilidad de que un estudiante obtenga matricula de honor a partir de la nota obtenida en matemáticas

</br></br>

<div class="content-box-gray">
## <span style="color:#686868">**Preguntas**</span>

<br/>

* Cómo se estiman los modelos de regresión con variables cualitativas como variables respuesta?

* Qué problemas se presentan cuando se desean realizar inferencias? Que pruebas de hipotesis se deben realizar?

* Como se mide la bondad de ajuste del modelo estimado?

* Como se interpretan los resultados obtenidos?

Preguntas planteadas en Gujarati(2009)
</div>

Con el prósito de responder a esta preguntas, empezaremos con las caracteristicas de los datos

</br></br>

### <span style="color:#686868">**Datos**</span>

</br>

La  data: `matriculah` de `paqueteMOD`,  contiene los datos de un conjunto de estudiantes que han obtenido matricula de honor (`matricula = 1`) y un grupo de no la han conseguido (`matricula = 0`) y sus respectivas notas obtenidas en matemáticas

</br>

En este caso se debe contar con una variable categórica con dos niveles representados por dos valores : $0$ y $1$ (variable matricula), quien obra como variable dependiente y por lo menos una variable cuantitativa que tome diferentes valores (en este caso la nota de matemáticas).  

</br>

```{r}
library(paqueteMOD)
data("matriculah")
summary(matricula)
```

</br></br>

Distribución de matriculados: 

Utilizamos la función  `table()` para encontrar la distribución de la variable categórica matricula:

</br>

```{r}
table(matriculah$honor)
```

</br></br>

Distribución del puntaje en matemáticas por tipo de matricula

</br>

Tambien podemos explorar el comportamiento de la variable cuantitativa (matemáticas) para las dos categorías, que en este caso corresponde a la distribución de las notas por tipo de matricula : 

```{r}
library(ggplot2)
ggplot(data = matriculah, aes(x = as.factor(honor), y = matematicas, color = honor)) +
  geom_boxplot() +
  geom_jitter(width = 0.2)+
  scale_color_manual(values=c("#FF7F00","#034A94"))+
  labs(x = "matricula de honor", y = "puntaje matemáticas") +
  ggtitle("  ")
```

</br></br></br>




